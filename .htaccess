# Pro Camera Simulator - Apache Configuration

# Enable mod_rewrite
<IfModule mod_rewrite.c>
  RewriteEngine On
  
  # Remove .html extension
  RewriteeCond %{REQUEST_FILENAME} !-f
  RewriteRule ^([^\.]+)$ $1.html [NC, L]
</IfModule>

# Enable gzip compression
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html
  AddOutputFilterByType DEFLATE text/plain
  AddOutputFilterByType DEFLATE text/xml
  AddOutputFilterByType DEFLATE text/css
  AddOutputFilterByType DEFLATE text/javascript
  AddOutputFilterByType DEFLATE application/xml
  AddOutputFilterByType DEFLATE application/xhtml+xml
  AddOutputFilterByType DEFLATE application/rss+xml
  AddOutputFilterByType DEFLATE application/javascript
  AddOutputFilterByType DEFLATE application/x-javascript
  AddOutputFilterByType DEFLATE application/json
</IfModule>

# Set cache headers
<FilesMatch ".(jpg|jpeg|png|gif|ico|css|js|woff|woff2|ttf|svg)$">
  Header set Cache-Control "max-age=31536000, public"
</FilesMatch>

<FilesMatch ".(html|htm)$">
  Header set Cache-Control "max-age=604800, public"
</FilesMatch>

# Enable CORS for fonts and other resources
<FilesMatch "\.(ttf|ttc|otf|eot|woff|woff2|font.css)$">
  Header set Access-Control-Allow-Origin "*"
</FilesMatch>

# Security headers
Header set X-Content-Type-Options "nosniff"
Header set X-Frame-Options "SAMEORIGIN"
Header set X-XSS-Protection "1; mode=block"
Header set Referrer-Policy "strict-origin-when-cross-origin"
Header set Permissions-Policy "accelerometer=(), camera=(), microphone=(), usb=()"
